<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<title>#{msgs.homeTitle}</title>
	<h:outputStylesheet library="css" name="colorbox.css" target="head" />
	<h:outputStylesheet library="css" name="custom.css" target="head" />
	<h:outputStylesheet library="css" name="fixes.css" target="head" />
	<h:outputStylesheet library="css" name="grid.css" target="head" />
	<h:outputStylesheet library="css" name="reset.css" target="head" />
	<h:outputStylesheet library="css" name="slickmap.css" target="head" />
	<h:outputStylesheet library="css" name="styles.css" target="head" />
	<h:outputStylesheet library="css" name="superfish.css" target="head" />
	<h:outputStylesheet library="css" name="tipTip.css" target="head" />

</h:head>

<h:body styleClass="body">


	<ui:insert name="menu">
		<ui:include src="/resources/templates/menu.xhtml" />
	</ui:insert>

	<ui:insert name="right_pane">
		<ui:include src="/resources/templates/right_pane.xhtml" />
	</ui:insert>

	<ui:insert name="content">
		<h:panelGroup id="wrapper">

			<h:panelGroup class="container_12">
				<div class="main-content">
					<h:panelGroup id="slideshow"></h:panelGroup>
					<h:panelGroup styleClass="grid_3 alpha">
						<h:outputText styleClass="h1 left-outline" value="BOOKS" />
					</h:panelGroup>

					<h:panelGroup styleClass="grid_7">
						<h:outputText styleClass="h2 main-page" value="" />
					</h:panelGroup>
					<br /> <br /> <br /> <br /> <br /> <br /> <br />

					<h:panelGroup class="grid_5 alpha"
						style="padding:10px 10px 10px 10px;">
						<h:outputText styleClass="h2" value="#{bookBean.title}"
							style="color:#EB540A;" />
						<br />
						<br />
						<h:outputText styleClass="h6" value="Author:" />
						<ui:repeat value="#{bookBean.authors}" var="authors">
							<h:outputText styleClass="h6" style="color: #a23a07"
								value="#{authors.firstname} #{authors.lastname}" />
						</ui:repeat>
						<br />
						<h:outputText styleClass="h6" value="ISBN: " />
						<h:outputText styleClass="h6" value="#{bookBean.isbn}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Publisher: " />
						<h:outputText styleClass="h6" value="#{bookBean.publisher}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Pages: " />
						<h:outputText styleClass="h6" value="#{bookBean.pages}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Genre: " />
						<h:outputText styleClass="h6" value="#{bookBean.genre.genre}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Type: " />
						<h:outputText styleClass="h6" value="#{bookBean.stringType}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Price: " />
						<h:outputText styleClass="h6" value="$#{bookBean.list_price}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Weight: " />
						<h:outputText styleClass="h6" value="#{bookBean.weight}"
							style="color: #a23a07;" />
						<br />
						<h:outputText styleClass="h6" value="Dimentions: " />
						<h:outputText styleClass="h6" value="#{bookBean.dimensions}"
							style="color: #a23a07;" />
						<br />
						<br />
						<h:outputText styleClass="h6" value="Desciption: " />
						<h:outputText styleClass="h6"
							value="YAY THIS IS A DYNAMIC BOOK PAGE GENERATED BY ID"
							style="color: #a23a07;" />
						<br />

					</h:panelGroup>

					<h:form>
						<h:panelGroup class="grid_4" style="padding:10px 10px 10px 10px;">
							<br />
							<h:graphicImage name="#{bookBean.cover}" alt="image"
								styleClass="shadow" width="300px;" />








							<br />
							<br />

							<div class="to_cart">
								<div class="quantitiy">
									<label for="qty">Quantity:</label>
									<h:selectOneMenu name="qty" id="qtyMenu"
										value="#{cartBean.item}" immediate="true">
										<c:forEach begin="1" end="10" var="num">
											<f:selectItem id="_#{num}" itemLabel="#{num}"
												itemValue="#{num}" />

										</c:forEach>
									</h:selectOneMenu>
								</div>

								<h:commandButton value="ADD TO CART"
									action="#{cookieAction.writeCookie(bookAction.bookBean.id,cartBean.item)}"
									class="addtocart">
							
								</h:commandButton>


							</div>

						</h:panelGroup>
					</h:form>
					<h:panelGroup styleClass="clear"></h:panelGroup>

					<!-- 		 Chris 		 	-->

					<h:panelGroup rendered="#{userBean.loggedin}" >
					
						<h:outputText>Rate the book: </h:outputText>
						<h:selectOneMenu  value="#{submitReviewAction.rating}" >
							<f:selectItem itemLabel="1" itemValue="1" />
							<f:selectItem itemLabel="2" itemValue="2" />
							<f:selectItem itemLabel="3" itemValue="3" />
							<f:selectItem itemLabel="4" itemValue="4" />
							<f:selectItem itemLabel="5" itemValue="5"  />
						</h:selectOneMenu>
						<br />
						
						<h:outputText>Name: </h:outputText>
						<h:inputText value="#{submitReviewAction.name}" />
						
						<br />
						<h:outputText>Review: </h:outputText>
						<h:inputText value="#{submitReviewAction.review}" />
						
						<h:commandButton value="Submit" id="submit_review" update="display" action="{submitReviewAction.submit(bookAction.bookBean.id)}" />
						
					</h:panelGroup>
					
					<br />
					<br />
					
					<h:outputText styleClass="h2" value="REVIEWS:"
						style="color:#EB540A;" />
						
					<h:panelGroup>
						<ui:repeat value="#{customerReviewAction.getCustomerReviewsById(bookAction.bookBean.id)}" var="review">
							<p style="color: #f2f2f2;">______________________________________________________________________________________________________________________</p>
							<h:graphicImage name="./images/star.png" alt="star1" rendered="#{review.atLeastOneStar}" />
							<h:graphicImage name="./images/star.png" alt="star2" rendered="#{review.atLeastTwoStars}" />
							<h:graphicImage name="./images/star.png" alt="star3" rendered="#{review.atLeastThreeStars}" />
							<h:graphicImage name="./images/star.png" alt="star4" rendered="#{review.atLeastFourStars}" />
							<h:graphicImage name="./images/star.png" alt="star5" rendered="#{review.atLeastFiveStars}" />
							<h:outputText styleClass="h6" value="/ #{review.reviewDate} /"
								style="color: #a23a07;margin-left:25px;" />
							<h:outputText value="By" style="color: #a23a07;margin-left:25px;" />
							<h:outputText value="#{review.name}" style="margin-left:10px;" />
							<br />
							<br />
							<h:outputText id="blockquote"
								value="#{review.review}">  
							</h:outputText>
							
						</ui:repeat>
					</h:panelGroup>
					
					<!-- 		 Chris 		 	-->

					<h:panelGroup styleClass="clear"></h:panelGroup>

				</div>
			</h:panelGroup>
		</h:panelGroup>
	</ui:insert>

	<ui:insert name="footer">
		<ui:include src="/resources/templates/footer.xhtml" />
	</ui:insert>
</h:body>

</html>